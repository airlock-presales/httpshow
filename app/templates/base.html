<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>{% block title %}HTTPShow Request Inspector{% endblock %}</title>
    <link rel="stylesheet" href="/static/pico.min.css">
    <link rel="stylesheet" href="/static/pico.colors.min.css">
    {% if css_file %}
    <link rel="stylesheet" href="{{ css_file }}">
    {% else %}
    <link rel="stylesheet" href="/static/style.css">
    {% endif %}
    {% if night_mode or request.session.get('night_mode') %}
    <style>
        body {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        .section {
            background-color: #2a2a2a;
            border-color: #444;
        }

        .section h2 {
            background-color: #333;
            border-color: #555;
        }

        pre,
        code {
            background-color: #1e1e1e;
            border-color: #444;
        }

        a {
            color: #6ba3ff;
        }

        button,
        .button {
            background-color: #0066cc;
            color: white;
        }

        button:hover,
        .button:hover {
            background-color: #0052a3;
        }

        input,
        textarea {
            background-color: #2a2a2a;
            color: #e0e0e0;
            border-color: #444;
        }
    </style>
    {% endif %}
</head>

<body data-theme="dark">
    <div class="container">
        <header>
            <nav>
                <a href="/"><img src="/static/logo.png" alt="Logo"></a>
                <a href="{{ details.path }}">
                    <h2 id="title">{% block heading %}HTTPShow Request Inspector{% endblock %}</h2>
                </a>
                <a href="#"></a>
                <a href="#"></a>
                <a href="#"></a>
                <ul class="icons">
                    {% if config.oidc_issuer %}
                    <li><a href="/profile" title="OIDC Profile" class="button">
                        <img src="/static/openid.png" alt="OIDC">
                    </a></li>
                    {% endif %}
                    {% if config.api_direct_url %}
                    <li><a href="/api" title="Call backend API" class="button">
                        <img src="/static/api.png" alt="API">
                    </a></li>
                    {% endif %}
                    {% if user and user.user_id %}
                    {%   if config.api_tkx_url and config.tokenexchange_url %}
                    <li><a href="/tkx" title="Token Exchange with Delegation" class="button">
                        <img src="/static/delegation.png" alt="Exchange">
                    </a></li>
                    {%   endif %}
                    <li><a href="/clear" title="Clear session" class="button">
                        <img src="/static/session.png" alt="Clear Session">
                    </a></li>
                    {%   if config.oidc_logout_url %}
                    <li><a href="/oidc/logout" title="OIDC Logout" class="button">
                        <img src="/static/logout.png" alt="Logout">
                    </a></li>
                    {%   endif %}
                    {% endif %}
                </ul>
            </nav>
        </header>

        <main>
            {% block content %}{% endblock %}
        </main>

        <footer>
            <p><a href="https://github.com/airlock-presales/httpshow">HTTPShow Request Inspector v{{ config.version }}</a></p>
        </footer>
    </div>
</body>

</html>